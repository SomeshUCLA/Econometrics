---
title: "Econometrics HW1"
author: "Somesh Kumar Srivastava"
date: "October 4, 2017"
output: pdf_document
---

\section{Ques1}
\subsection{1.a}




$$
\begin{aligned}
\sum_{i=1}^n (Y_i - \bar Y) &= \sum_{i=1}^n Y_i - n*\bar Y \\
&=n*(1/n)*\sum_{i=1}^n Y_i - n*\bar Y\\
&=n\bar Y-n\bar Y\\
&=0
\end{aligned}
$$
\subsection{1.b}

$$
\begin{aligned}
\sum_{i=1}^n (X_i-\bar X)*(Y_i-\bar Y) &= \sum_{i=1}^n (X_iY_i-X_i\bar Y-Y_i \bar X-\bar X\bar Y)\\
&= \sum_{i}^n X_iY_i - \bar Y \sum_{i}^n X_i - \bar X \sum_{i}^n Y_i -n\bar X \bar Y\\
&= \sum_{i}^n X_iY_i - \bar Y n \bar X - \bar X n \bar Y - n\bar X \bar Y\\
&= \sum_{i}^n X_i Y_i -\bar X (n\bar Y)\\
&= \sum_{i}^n X_i Y_i-\bar X\sum_{i}^n Y_i\\
\end{aligned}
$$

\section{Ques 2}
Expectation of a random variable X is weighted average of all the possible values of X and weights are calculated based on probability of occurrence of each X value. 
Sample average is arithmetic mean of various occurrence. 

\newpage

\section{Ques 3}
\subsection{3.a}
\begin{align*}
E[3X] &= 3*E[X]\\
&= 3*1\\
&=3
\end{align*}

\subsection{3.b}
\begin{align*}
Var(3X) &= E[(3X-E[3X])^2]\\
&= 9 E[(X-E[X])^2]\\
&= 9 * Var(X)\\
&= 9 * 2\\
&= 18
\end{align*}

\subsection{3.c}

\begin{align*}
Var(2X-2Y) &= E[2X-2Y-E[2X-2Y]]^2\\
&= E[2X-2Y-2E[X]-2E[Y]^2\\
&= 4*E[(X-E[X])- (Y-E[Y])]^2 \\
&= 4* (E[X-E[X]]^2 + E[Y-E[Y])^2 - 2*E[X-E[X]]*E[Y-E[Y]])\\
&= 4*(var(X) + var(Y) - 2*cov(X,Y)) \\
&= 4*(2+3-0)\\
&= 20\\
Similarly \\
Var(2X+2Y) &= 4*(Var(X) + Var(Y) + 2*cov(X,Y))\\
&= 4*(2+3+0)\\
&= 20
\end{align*}

\subsection{3.d}
X and Y are independent and hence the co variance (X,Y) part is zero. Also the equal coefficient '2' in both the cases the final result is same.

\section{Ques 4}
\subsection{4.a}
From a population (having any probability distribution), if we take out random samples; sampling distribution of the sample mean follow normal distribution as the size of sample go large. 



\subsection{4.b}
```{r}
x <- seq(0, 10, 0.1)
plot(x, dgamma(x, 2, 0.5), type="l", col="red", main="Plot of pdf for Gamma(2,2)",
     xlab="variable", ylab = "Gamma value")

```


\subsection{4.c}
```{r}
Sample_10 <- c()
for(i in 1:1000) {
  gsample <- rgamma(10, 2, 0.5) 
  Sample_10 <- c(Sample_10, mean(gsample))
}
hist(Sample_10, col = "green", xlim = c(2,7))
```
For large sample size as n=1000, sampling distribution of means of gamma distribution is approaching normal distribution.


\subsection{4.d} 
```{r}
Sample_100 <- c()
for(i in 1:1000) {
  gsample100 <- rgamma(100, 2, 0.5) 
  Sample_100 <- c(Sample_100, mean(gsample100))
}
hist(Sample_100, col = "dodgerblue4", xlim = c(2,6))
```
Histogram is skewed towards right.

\subsection{4.e}

Sample size = 2000 so n=2000
Assuming all the data is picked at once so r =1


\section{Ques 5}
```{r}
u <- seq(-5, 5, .1)
plot(u, dnorm(u), type="l", col="red", lwd=3)
lines(u, dt(u, 1), type="l", col="green", lwd=3)
legend(-4,0.3, legend = c("t-dist", "normal"), col=c("green", "red"), lty=1, cex=1)
```




\section{Ques 6}
\subsection{6.a}
```{r 6a}
library(DataAnalytics)
library(reshape2)
data(Vanguard)
Van=Vanguard[,c(1,2,5)]   # grabbing relevant cols
V_reshaped=dcast(Van,date~ticker,value.var="mret")
stdDev = sd(V_reshaped$VFIAX, na.rm = TRUE)
vfLen = length(V_reshaped$VFIAX[!is.na(V_reshaped$VFIAX)])


SE = stdDev/sqrt(vfLen)


Mean = mean(V_reshaped$VFIAX, na.rm = TRUE)
#Mean

cat("Standard Error of mean :", SE) 
cat("\n Mean :", Mean)

```


\subsection{6.b}
Standard error of mean is equal to mean so analyst will face difficultly in estimating the exact value of mean as it will have wider range of variabiliy. 

\subsection{6.c}
```{r 6c}
#sample size to reduce standard error of mean to 1/10 of mean return
(stdDev/((1/10)*Mean))^2
```


\section{Ques 7}
\subsection{7.a}

```{r ques7a}
#Commented install package as it's already installed
#
#install.packages("devtools")
#install.packages("ggplot2")
library(devtools)
library(ggplot2)

#install_bitbucket("perossichi/DataAnalytics")

library(DataAnalytics)

#
# reshaping Vanguard data using reshape2
#
library(reshape2)
data(Vanguard)
Van=Vanguard[,c(1,2,5)]   # grab relevant cols
V_reshaped=dcast(Van,date~ticker,value.var="mret")


data(marketRf)
Van_mkt=merge(V_reshaped,marketRf,by="date")
with(Van_mkt, plot(ewretd,VFIAX, pch=20, col="blue"))


out=lm(VFIAX ~ewretd,data=Van_mkt)
abline(out$coef,col="red",lwd=2)
```

\subsection{7.b}
```{r ques7b}
lmSumm(out, L=0)

```




